#include <stdio.h>
#include <ctype.h>
#define MAX_PESSOAS 80
struct dados { char nome[50], sexo; int idade; };
struct consulta { int escolha, sexo; };
void imprimirPessoas(struct dados pessoas) {
    printf("%s\n%d\n", pessoas.nome, pessoas.idade);
    printf("%c\n",pessoas.sexo);
}
int main(void) {
    struct dados pessoas[MAX_PESSOAS];
    struct consulta consulta;
    
    for (int i = 0; i < MAX_PESSOAS; i++) {
        scanf("%d", &pessoas[i].idade);
        scanf(" %c", &pessoas[i].sexo);
        getchar();
        fgets(pessoas[i].nome, sizeof(pessoas[i].nome), stdin);
    }
    do {
        scanf("%d", &consulta.escolha);
        switch (consulta.escolha) {
        case 1: for (int i = MAX_PESSOAS - 1; i >= 0; i--) {
            printf("%s%d\n", pessoas[i].nome, pessoas[i].idade);
            printf("%c\n",pessoas[i].sexo);
        } break;
        case 2: for (int j = 0; j <= 120; j++) {
            for (int i = 0; i < MAX_PESSOAS; i++) {
                if (pessoas[i].idade == j)
                    imprimirPessoas(pessoas[i]);
                }
            } break;
        case 3:
            for (j = 120; j >= 0; j--) {
                for (int i = 0; i < MAX_PESSOAS; i++) {
                    if (pessoas[i].idade == j)
                        imprimirPessoas(pessoas[i]);
                }
            } break;
        case 4:
            scanf("%d", &consulta.sexo);

            if (consulta.sexo == 1) { 
                for (int i = 0; i < MAX_PESSOAS; i++)
                    if (tolower(pessoas[i].sexo) == 'f')
                        imprimirPessoas(pessoas[i]);
            }

            if (consulta.sexo == 2) { 
                for (int i = 0; i < MAX_PESSOAS; i++)
                    if (tolower(pessoas[i].sexo) == 'm')
                        imprimirPessoas(pessoas[i]);
            }
    break;
        }
    } while (consulta.escolha != 5);
    for (int i = 0; i < MAX_PESSOAS; i++)
        imprimirPessoas(pessoas[i]);
    return 0;
}
